%
% snellius.tex -- Herleitung des Brechungsgesetzes aus dem Fermat-Prinzip
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math,calc}
\definecolor{darkred}{rgb}{0.8,0,0}
\begin{document}
\def\skala{1}
\begin{tikzpicture}[>=latex,thick,scale=\skala]
\coordinate (A1) at (-4,3);
\coordinate (A2) at (4,-3);
\def\x{1}
\coordinate (B) at (\x,0);

% Medien
\fill[color=blue!20] (-5,-3.5) rectangle (5,0);
\fill[color=blue!10] (-5,0) rectangle (5,3.5);

% rechter Winkel
\fill[color=gray,opacity=0.2]
	(B) -- +(180:0.5) arc(180:270:0.5) -- cycle;
\fill[color=gray,opacity=0.3]
	($(B)+(225:0.3)$) circle[radius=0.08];

% Winkel alpha_1 und alpha_2
\fill[color=gray,opacity=0.3]
	(B) -- +(90:2) arc (90:{90+atan((4+\x)/3)}:2) -- cycle;
\node at ($(B)+({90+atan((4+\x)/3)/2}:1.4)$) {$\alpha_1\mathstrut$};
\fill[color=gray,opacity=0.3]
	(B) -- +(-90:2) arc (-90:{-90+atan((4-\x)/3)}:2) -- cycle;
\node at ($(B)+({-90+atan((4-\x)/3)/2}:1.4)$) {$\alpha_2\mathstrut$};

\draw[->] (-5,0) -- (5.3,0) coordinate[label={$x$}];
\draw[->] (-5,-3.5) -- (-5,3.8) coordinate[label={right:$y$}];
\node at (5,3.5) [below left] {$n_1\mathstrut$};
\node at (-5,-3.5) [above right] {$n_2\mathstrut$};

\draw[line width=0.3pt] (A1) -- (-4,0);
\draw (-4,-0.05) -- (-4,0.05);
\node at (-4,-0.05) [below] {$x_1\mathstrut$};
\node at (-4,1.5) [left] {$y_1\mathstrut$};
\node at ($0.5*(B)+(-2,0)$) [above] {$x-x_1\mathstrut$};

\draw[line width=0.3pt] (A2) -- (4,0);
\draw (4,-0.05) -- (4,0.05);
\node at (4,0.05) [above] {$x_2\mathstrut$};
\node at (4,-1.5) [left] {$y_2\mathstrut$};
\node at ($0.5*(B)+(2,0)$) [below] {$x_2-x\mathstrut$};

\draw[line width=0.7pt] (1,-3) -- (1,3);

\draw[color=darkred,line width=1.2pt] (A1) -- (B) -- (A2);
\fill[color=darkred] (A1) circle[radius=0.08];
\node at (A1) [left] {$A_1\mathstrut$};
\fill[color=darkred] (A2) circle[radius=0.08];
\node at (A2) [right] {$A_2\mathstrut$};
\fill[color=darkred] (B) circle[radius=0.08];
\node at (B) [above right] {$B=(x,0)\mathstrut$};

\end{tikzpicture}
\end{document}

