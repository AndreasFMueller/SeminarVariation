%
% variation0.tex -- Variation mit festen Enden
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math}
\definecolor{darkred}{rgb}{0.8,0,0}
\begin{document}
\def\skala{1}
\def\xzero{1}
\def\xone{10}
\def\yzero{1}
\def\yone{5}
\begin{tikzpicture}[>=latex,thick,scale=\skala,
declare function={
	x(\t)   = (1-\t)*\xzero+\t*\xone;
	t(\x)   = (\x-\xzero)/(\xone-\xzero);
	eta(\t) = \t*(1-\t)*(2*cos(180*\t)+4*\t*sin(720*\t)+6);
	y(\t)   = (1-\t)*\yzero+\t*\yone+4*\t*(1-\t);
}]

\draw (\xzero,-0.05) -- (\xzero,0.05);
\draw (-0.05,\yzero) -- (0.05,\yzero);
\draw[line width=0.2pt] (\xzero,0) -- (\xzero,\yzero);
\draw[line width=0.2pt] (0,\yzero) -- (\xzero,\yzero);
\node at (\xzero,-0.05) [below] {$x_1\mathstrut$};
\node at (-0.05,\yzero) [left] {$y_1\mathstrut$};

\draw (\xone,-0.05) -- (\xone,0.05);
\draw (-0.05,\yone) -- (0.05,\yone);
\draw[line width=0.2pt] (\xone,0) -- (\xone,\yone);
\draw[line width=0.2pt] (0,\yone) -- (\xone,\yone);
\node at (\xone,-0.05) [below] {$x_2\mathstrut$};
\node at (-0.05,\yone) [left] {$y_2\mathstrut$};

\fill[color=darkred] (\xzero,\yzero) circle[radius=0.08];
\fill[color=darkred] (\xone,\yone) circle[radius=0.08];
\node at (\xzero,\yzero) [above left] {$P_1$};
\node at (\xone,\yone) [right] {$P_2$};

\foreach \e in {-1.6,-1.2,...,1.7}{
	\draw[color=gray,smooth] plot[domain=0:1] ({x(\x)},{y(\x)+\e*eta(\x)});
}
\node[color=gray] at (3.6,5.65) {$y(x)+\varepsilon\eta(x)$};

\draw[color=darkred,smooth,line width=1.4pt] plot[domain=0:1] ({x(\x)},{y(\x)});
\node[color=darkred] at (6.8,4.8) {$y(x)$};

\draw[->] (-0.1,0) -- (11.6,0) coordinate[label={$x$}];
\draw[->] (0,-0.1) -- (0,8) coordinate[label={right:$y$}];

\end{tikzpicture}
\end{document}

